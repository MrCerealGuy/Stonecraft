/* WARNING: This file was automatically generated by lua2c. */

#ifdef __cplusplus
extern "C" {
#endif
#include <lua.h>
#include <lauxlib.h>
#include <lualib.h>
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>


#include <string.h>


#include <assert.h>

/* name: (main)
 * function(...) */
static int lcf_main (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local S = ethereal.intllib */
  lua_getfield(L,LUA_ENVIRONINDEX,"ethereal");
  lua_pushliteral(L,"intllib");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  assert(lua_gettop(L) - lc_nextra == 1);
  
  /* -- Stairs Redo
   * if stairs and stairs.mod and stairs.mod == "redo" then */
  enum { lc1 = 1 };
  lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"mod");
    lua_gettable(L,-2);
    lua_remove(L,-2);
  }
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"mod");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"redo");
    const int lc2 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc2);
  }
  const int lc3 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc3) {
    
    /* stairs.register_all("crystal_block", "ethereal:crystal_block",
     * 	{cracky = 1, level = 2},
     * 	{"crystal_block.png"},
     * 	S("Crystal Block Stair"),
     * 	S("Crystal Block Slab"),
     * 	default.node_sound_glass_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc4 = lua_gettop(L);
    lua_pushliteral(L,"crystal_block");
    lua_pushliteral(L,"ethereal:crystal_block");
    lua_createtable(L,0,2);
    lua_pushliteral(L,"cracky");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"level");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"crystal_block.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Crystal Block Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Crystal Block Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_glass_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc4),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("icebrick", "ethereal:icebrick",
     * 	{crumbly = 3, melts = 1},
     * 	{"brick_ice.png"},
     * 	S("Ice Brick Stair"),
     * 	S("Ice Brick Slab"),
     * 	default.node_sound_glass_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc5 = lua_gettop(L);
    lua_pushliteral(L,"icebrick");
    lua_pushliteral(L,"ethereal:icebrick");
    lua_createtable(L,0,2);
    lua_pushliteral(L,"crumbly");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_pushliteral(L,"melts");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"brick_ice.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Ice Brick Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Ice Brick Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_glass_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc5),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("snowbrick", "ethereal:snowbrick",
     * 	{crumbly = 3, melts = 1},
     * 	{"brick_snow.png"},
     * 	S("Snow Brick Stair"),
     * 	S("Snow Brick Slab"),
     * 	default.node_sound_dirt_defaults({
     * 		footstep = {name = "default_snow_footstep", gain = 0.25},
     * 		dug = {name = "default_snow_footstep", gain = 0.75},
     * 	})) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc6 = lua_gettop(L);
    lua_pushliteral(L,"snowbrick");
    lua_pushliteral(L,"ethereal:snowbrick");
    lua_createtable(L,0,2);
    lua_pushliteral(L,"crumbly");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_pushliteral(L,"melts");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"brick_snow.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Snow Brick Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Snow Brick Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_dirt_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_createtable(L,0,2);
    lua_pushliteral(L,"footstep");
    lua_createtable(L,0,2);
    lua_pushliteral(L,"name");
    lua_pushliteral(L,"default_snow_footstep");
    lua_rawset(L,-3);
    lua_pushliteral(L,"gain");
    lua_pushnumber(L,0.25);
    lua_rawset(L,-3);
    lua_rawset(L,-3);
    lua_pushliteral(L,"dug");
    lua_createtable(L,0,2);
    lua_pushliteral(L,"name");
    lua_pushliteral(L,"default_snow_footstep");
    lua_rawset(L,-3);
    lua_pushliteral(L,"gain");
    lua_pushnumber(L,0.75);
    lua_rawset(L,-3);
    lua_rawset(L,-3);
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc6),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("dry_dirt", "ethereal:dry_dirt",
     * 	{crumbly = 3},
     * 	{"ethereal_dry_dirt.png"},
     * 	S("Dry Dirt Stair"),
     * 	S("Dry Dirt Slab"),
     * 	default.node_sound_dirt_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc7 = lua_gettop(L);
    lua_pushliteral(L,"dry_dirt");
    lua_pushliteral(L,"ethereal:dry_dirt");
    lua_createtable(L,0,1);
    lua_pushliteral(L,"crumbly");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"ethereal_dry_dirt.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Dry Dirt Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Dry Dirt Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_dirt_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc7),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("mushroom_trunk", "ethereal:mushroom_trunk",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
     * 	{"mushroom_trunk.png"},
     * 	S("Mushroom Trunk Stair"),
     * 	S("Mushroom Trunk Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc8 = lua_gettop(L);
    lua_pushliteral(L,"mushroom_trunk");
    lua_pushliteral(L,"ethereal:mushroom_trunk");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"mushroom_trunk.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Mushroom Trunk Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Mushroom Trunk Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc8),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("mushroom", "ethereal:mushroom",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
     * 	{"mushroom_block.png"},
     * 	S("Mushroom Top Stair"),
     * 	S("Mushroom Top Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc9 = lua_gettop(L);
    lua_pushliteral(L,"mushroom");
    lua_pushliteral(L,"ethereal:mushroom");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"mushroom_block.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Mushroom Top Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Mushroom Top Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc9),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("frost_wood", "ethereal:frost_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
     * 	{"frost_wood.png"},
     * 	S("Frost Wood Stair"),
     * 	S("Frost Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc10 = lua_gettop(L);
    lua_pushliteral(L,"frost_wood");
    lua_pushliteral(L,"ethereal:frost_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"put_out_fire");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"frost_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Frost Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Frost Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc10),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("yellow_wood", "ethereal:yellow_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
     * 	{"yellow_wood.png"},
     * 	S("Healing Wood Stair"),
     * 	S("Healing Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc11 = lua_gettop(L);
    lua_pushliteral(L,"yellow_wood");
    lua_pushliteral(L,"ethereal:yellow_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"put_out_fire");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"yellow_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Healing Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Healing Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc11),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("palm_wood", "ethereal:palm_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"moretrees_palm_wood.png"},
     * 	S("Palm Wood Stair"),
     * 	S("Palm Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc12 = lua_gettop(L);
    lua_pushliteral(L,"palm_wood");
    lua_pushliteral(L,"ethereal:palm_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"moretrees_palm_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Palm Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Palm Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc12),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("birch_wood", "ethereal:birch_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"moretrees_birch_wood.png"},
     * 	S("Birch Wood Stair"),
     * 	S("Birch Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc13 = lua_gettop(L);
    lua_pushliteral(L,"birch_wood");
    lua_pushliteral(L,"ethereal:birch_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"moretrees_birch_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Birch Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Birch Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc13),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("banana_wood", "ethereal:banana_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"banana_wood.png"},
     * 	S("Banana Wood Stair"),
     * 	S("Banana Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc14 = lua_gettop(L);
    lua_pushliteral(L,"banana_wood");
    lua_pushliteral(L,"ethereal:banana_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"banana_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Banana Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Banana Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc14),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("willow_wood", "ethereal:willow_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"willow_wood.png"},
     * 	S("Willow Wood Stair"),
     * 	S("Willow Wood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc15 = lua_gettop(L);
    lua_pushliteral(L,"willow_wood");
    lua_pushliteral(L,"ethereal:willow_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"willow_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Willow Wood Stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Willow Wood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc15),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("redwood_wood", "ethereal:redwood_wood",
     * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"redwood_wood.png"},
     * 	S("Redwood stair"),
     * 	S("Redwood Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc16 = lua_gettop(L);
    lua_pushliteral(L,"redwood_wood");
    lua_pushliteral(L,"ethereal:redwood_wood");
    lua_createtable(L,0,3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"redwood_wood.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Redwood stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Redwood Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc16),0);
    assert(lua_gettop(L) - lc_nextra == 1);
    
    /* stairs.register_all("bamboo_wood", "ethereal:bamboo_floor",
     * 	{snappy = 3, choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
     * 	{"bamboo_floor.png"},
     * 	S("Bamboo stair"),
     * 	S("Bamboo Slab"),
     * 	default.node_sound_wood_defaults()) */
    lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
    lua_pushliteral(L,"register_all");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc17 = lua_gettop(L);
    lua_pushliteral(L,"bamboo_wood");
    lua_pushliteral(L,"ethereal:bamboo_floor");
    lua_createtable(L,0,4);
    lua_pushliteral(L,"snappy");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_pushliteral(L,"choppy");
    lua_pushnumber(L,2);
    lua_rawset(L,-3);
    lua_pushliteral(L,"oddly_breakable_by_hand");
    lua_pushnumber(L,1);
    lua_rawset(L,-3);
    lua_pushliteral(L,"flammable");
    lua_pushnumber(L,3);
    lua_rawset(L,-3);
    lua_createtable(L,1,0);
    lua_pushliteral(L,"bamboo_floor.png");
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Bamboo stair");
    lua_call(L,1,1);
    lua_pushvalue(L,(1 + lc_nextra));
    lua_pushliteral(L,"Bamboo Slab");
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"default");
    lua_pushliteral(L,"node_sound_wood_defaults");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc17),0);
    assert(lua_gettop(L) - lc_nextra == 1);
  }
  else {
    
    /* -- Stairs Plus (in More Blocks)
     * elseif minetest.global_exists("stairsplus") then */
    enum { lc18 = 1 };
    lua_getfield(L,LUA_ENVIRONINDEX,"minetest");
    lua_pushliteral(L,"global_exists");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"stairsplus");
    lua_call(L,1,1);
    const int lc19 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc19) {
      
      /* stairsplus:register_all("ethereal", "crystal_block", "ethereal:crystal_block", {
       * 	description = S("Crystal block"),
       * 	tiles = {"crystal_block.png"},
       * 	groups = {cracky = 1, falling_node = 1, puts_out_fire = 1},
       * 	sounds = default.node_sound_glass_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"crystal_block");
      lua_pushliteral(L,"ethereal:crystal_block");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Crystal block");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"crystal_block.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"cracky");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"falling_node");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"puts_out_fire");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_glass_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "icebrick", "ethereal:icebrick", {
       * 	description = S("Ice Brick"),
       * 	tiles = {"brick_ice.png"},
       * 	groups = {crumbly = 3, melts = 1},
       * 	sounds = default.node_sound_glass_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"icebrick");
      lua_pushliteral(L,"ethereal:icebrick");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Ice Brick");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"brick_ice.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"melts");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_glass_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "snowbrick", "ethereal:snowbrick", {
       * 	description = S("Snow Brick"),
       * 	tiles = {"brick_snow.png"},
       * 	groups = {crumbly = 3, melts = 1},
       * 	sounds = default.node_sound_dirt_defaults({
       * 		footstep = {name = "default_snow_footstep", gain = 0.25},
       * 		dug = {name = "default_snow_footstep", gain = 0.75},
       * 	})
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"snowbrick");
      lua_pushliteral(L,"ethereal:snowbrick");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Snow Brick");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"brick_snow.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"melts");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_dirt_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_createtable(L,0,2);
      lua_pushliteral(L,"footstep");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"name");
      lua_pushliteral(L,"default_snow_footstep");
      lua_rawset(L,-3);
      lua_pushliteral(L,"gain");
      lua_pushnumber(L,0.25);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"dug");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"name");
      lua_pushliteral(L,"default_snow_footstep");
      lua_rawset(L,-3);
      lua_pushliteral(L,"gain");
      lua_pushnumber(L,0.75);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "dry_dirt", "ethereal:dry_dirt", {
       * 	description = S("Dry Dirt"),
       * 	tiles = {"ethereal_dry_dirt.png"},
       * 	groups = {crumbly = 3},
       * 	sounds = default.node_sound_dirt_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"dry_dirt");
      lua_pushliteral(L,"ethereal:dry_dirt");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Dry Dirt");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"ethereal_dry_dirt.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,1);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_dirt_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "mushroom_trunk", "ethereal:mushroom_trunk", {
       * 	description = S("Mushroom Trunk"),
       * 	tiles = {"mushroom_trunk.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"mushroom_trunk");
      lua_pushliteral(L,"ethereal:mushroom_trunk");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Trunk");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"mushroom_trunk.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "mushroom", "ethereal:mushroom", {
       * 	description = S("Mushroom Top"),
       * 	tiles = {"mushroom_block.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"mushroom");
      lua_pushliteral(L,"ethereal:mushroom");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Top");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"mushroom_block.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "frost_wood", "ethereal:frost_wood", {
       * 	description = S("Frost Wood"),
       * 	tiles = {"frost_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"frost_wood");
      lua_pushliteral(L,"ethereal:frost_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Frost Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"frost_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"put_out_fire");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "yellow_wood", "ethereal:yellow_wood", {
       * 	description = S("Healing Wood"),
       * 	tiles = {"yellow_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"yellow_wood");
      lua_pushliteral(L,"ethereal:yellow_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Healing Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"yellow_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"put_out_fire");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "palm_wood", "ethereal:palm_wood", {
       * 	description = S("Palm Wood"),
       * 	tiles = {"moretrees_palm_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"palm_wood");
      lua_pushliteral(L,"ethereal:palm_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Palm Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"moretrees_palm_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "birch_wood", "ethereal:birch_wood", {
       * 	description = S("Birch Wood"),
       * 	tiles = {"moretrees_birch_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"birch_wood");
      lua_pushliteral(L,"ethereal:birch_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Birch Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"moretrees_birch_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "banana_wood", "ethereal:banana_wood", {
       * 	description = S("Banana Wood"),
       * 	tiles = {"banana_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"banana_wood");
      lua_pushliteral(L,"ethereal:banana_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Banana Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"banana_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "willow_wood", "ethereal:willow_wood", {
       * 	description = S("Willow Wood"),
       * 	tiles = {"willow_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"willow_wood");
      lua_pushliteral(L,"ethereal:willow_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Willow Wood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"willow_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "redwood_wood", "ethereal:redwood_wood", {
       * 	description = S("Redwood"),
       * 	tiles = {"redwood_wood.png"},
       * 	groups = {choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"redwood_wood");
      lua_pushliteral(L,"ethereal:redwood_wood");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Redwood");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"redwood_wood.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairsplus:register_all("ethereal", "bamboo_wood", "ethereal:bamboo_floor", {
       * 	description = S("Bamboo"),
       * 	tiles = {"bamboo_floor.png"},
       * 	groups = {snappy = 3, choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	sounds = default.node_sound_wood_defaults(),
       * }) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairsplus");
      lua_pushliteral(L,"register_all");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"ethereal");
      lua_pushliteral(L,"bamboo_wood");
      lua_pushliteral(L,"ethereal:bamboo_floor");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"description");
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Bamboo");
      lua_call(L,1,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"tiles");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"bamboo_floor.png");
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"groups");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"snappy");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"sounds");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,1);
      lua_rawset(L,-3);
      lua_call(L,5,0);
      assert(lua_gettop(L) - lc_nextra == 1);
    }
    else {
      
      /* else
       * stairs.register_stair_and_slab("crystal_block", "ethereal:crystal_block",
       * 	{cracky = 1, level = 2},
       * 	{"crystal_block.png"},
       * 	S("Crystal Block Stair"),
       * 	S("Crystal Block Slab"),
       * 	default.node_sound_glass_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc20 = lua_gettop(L);
      lua_pushliteral(L,"crystal_block");
      lua_pushliteral(L,"ethereal:crystal_block");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"cracky");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"level");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"crystal_block.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Crystal Block Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Crystal Block Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_glass_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc20),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("icebrick", "ethereal:icebrick",
       * 	{crumbly = 3, melts = 1},
       * 	{"brick_ice.png"},
       * 	S("Ice Brick Stair"),
       * 	S("Ice Brick Slab"),
       * 	default.node_sound_glass_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc21 = lua_gettop(L);
      lua_pushliteral(L,"icebrick");
      lua_pushliteral(L,"ethereal:icebrick");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"melts");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"brick_ice.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Ice Brick Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Ice Brick Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_glass_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc21),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("snowbrick", "ethereal:snowbrick",
       * 	{crumbly = 3, melts = 1},
       * 	{"brick_snow.png"},
       * 	S("Snow Brick Stair"),
       * 	S("Snow Brick Slab"),
       * 	default.node_sound_dirt_defaults({
       * 		footstep = {name = "default_snow_footstep", gain = 0.25},
       * 		dug = {name = "default_snow_footstep", gain = 0.75},
       * 	})) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc22 = lua_gettop(L);
      lua_pushliteral(L,"snowbrick");
      lua_pushliteral(L,"ethereal:snowbrick");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"melts");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"brick_snow.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Snow Brick Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Snow Brick Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_dirt_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_createtable(L,0,2);
      lua_pushliteral(L,"footstep");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"name");
      lua_pushliteral(L,"default_snow_footstep");
      lua_rawset(L,-3);
      lua_pushliteral(L,"gain");
      lua_pushnumber(L,0.25);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"dug");
      lua_createtable(L,0,2);
      lua_pushliteral(L,"name");
      lua_pushliteral(L,"default_snow_footstep");
      lua_rawset(L,-3);
      lua_pushliteral(L,"gain");
      lua_pushnumber(L,0.75);
      lua_rawset(L,-3);
      lua_rawset(L,-3);
      lua_call(L,1,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc22),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("dry_dirt", "ethereal:dry_dirt",
       * 	{crumbly = 3},
       * 	{"ethereal_dry_dirt.png"},
       * 	S("Dry Dirt Stair"),
       * 	S("Dry Dirt Slab"),
       * 	default.node_sound_dirt_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc23 = lua_gettop(L);
      lua_pushliteral(L,"dry_dirt");
      lua_pushliteral(L,"ethereal:dry_dirt");
      lua_createtable(L,0,1);
      lua_pushliteral(L,"crumbly");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"ethereal_dry_dirt.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Dry Dirt Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Dry Dirt Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_dirt_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc23),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("mushroom_trunk", "ethereal:mushroom_trunk",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
       * 	{"mushroom_trunk.png"},
       * 	S("Mushroom Trunk Stair"),
       * 	S("Mushroom Trunk Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc24 = lua_gettop(L);
      lua_pushliteral(L,"mushroom_trunk");
      lua_pushliteral(L,"ethereal:mushroom_trunk");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"mushroom_trunk.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Trunk Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Trunk Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc24),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("mushroom", "ethereal:mushroom",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 2},
       * 	{"mushroom_block.png"},
       * 	S("Mushroom Top Stair"),
       * 	S("Mushroom Top Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc25 = lua_gettop(L);
      lua_pushliteral(L,"mushroom");
      lua_pushliteral(L,"ethereal:mushroom");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"mushroom_block.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Top Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Mushroom Top Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc25),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("frost_wood", "ethereal:frost_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
       * 	{"frost_wood.png"},
       * 	S("Frost Wood Stair"),
       * 	S("Frost Wood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc26 = lua_gettop(L);
      lua_pushliteral(L,"frost_wood");
      lua_pushliteral(L,"ethereal:frost_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"put_out_fire");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"frost_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Frost Wood Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Frost Wood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc26),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("yellow_wood", "ethereal:yellow_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, put_out_fire = 1},
       * 	{"yellow_wood.png"},
       * 	S("Healing Wood Stair"),
       * 	S("Healing Wood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc27 = lua_gettop(L);
      lua_pushliteral(L,"yellow_wood");
      lua_pushliteral(L,"ethereal:yellow_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"put_out_fire");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"yellow_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Healing Wood Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Healing Wood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc27),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("palm_wood", "ethereal:palm_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"moretrees_palm_wood.png"},
       * 	S("Palm Wood Stair"),
       * 	S("Palm Wood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc28 = lua_gettop(L);
      lua_pushliteral(L,"palm_wood");
      lua_pushliteral(L,"ethereal:palm_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"moretrees_palm_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Palm Wood Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Palm Wood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc28),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("birch_wood", "ethereal:birch_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"moretrees_birch_wood.png"},
       * 	"Birch Wood Stair",
       * 	"Birch Wood Slab",
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc29 = lua_gettop(L);
      lua_pushliteral(L,"birch_wood");
      lua_pushliteral(L,"ethereal:birch_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"moretrees_birch_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushliteral(L,"Birch Wood Stair");
      lua_pushliteral(L,"Birch Wood Slab");
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc29),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("banana_wood", "ethereal:banana_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"banana_wood.png"},
       * 	S("Banana Wood Stair"),
       * 	S("Banana Wood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc30 = lua_gettop(L);
      lua_pushliteral(L,"banana_wood");
      lua_pushliteral(L,"ethereal:banana_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"banana_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Banana Wood Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Banana Wood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc30),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("willow_wood", "ethereal:willow_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"willow_wood.png"},
       * 	S("Willow Wood Stair"),
       * 	S("Willow Wood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc31 = lua_gettop(L);
      lua_pushliteral(L,"willow_wood");
      lua_pushliteral(L,"ethereal:willow_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"willow_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Willow Wood Stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Willow Wood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc31),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("redwood_wood", "ethereal:redwood_wood",
       * 	{choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"redwood_wood.png"},
       * 	S("Redwood stair"),
       * 	S("Redwood Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc32 = lua_gettop(L);
      lua_pushliteral(L,"redwood_wood");
      lua_pushliteral(L,"ethereal:redwood_wood");
      lua_createtable(L,0,3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"redwood_wood.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Redwood stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Redwood Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc32),0);
      assert(lua_gettop(L) - lc_nextra == 1);
      
      /* stairs.register_stair_and_slab("bamboo_wood", "ethereal:bamboo_floor",
       * 	{snappy = 3, choppy = 2, oddly_breakable_by_hand = 1, flammable = 3},
       * 	{"bamboo_floor.png"},
       * 	S("Bamboo stair"),
       * 	S("Bamboo Slab"),
       * 	default.node_sound_wood_defaults()) */
      lua_getfield(L,LUA_ENVIRONINDEX,"stairs");
      lua_pushliteral(L,"register_stair_and_slab");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc33 = lua_gettop(L);
      lua_pushliteral(L,"bamboo_wood");
      lua_pushliteral(L,"ethereal:bamboo_floor");
      lua_createtable(L,0,4);
      lua_pushliteral(L,"snappy");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_pushliteral(L,"choppy");
      lua_pushnumber(L,2);
      lua_rawset(L,-3);
      lua_pushliteral(L,"oddly_breakable_by_hand");
      lua_pushnumber(L,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"flammable");
      lua_pushnumber(L,3);
      lua_rawset(L,-3);
      lua_createtable(L,1,0);
      lua_pushliteral(L,"bamboo_floor.png");
      lua_rawseti(L,-2,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Bamboo stair");
      lua_call(L,1,1);
      lua_pushvalue(L,(1 + lc_nextra));
      lua_pushliteral(L,"Bamboo Slab");
      lua_call(L,1,1);
      lua_getfield(L,LUA_ENVIRONINDEX,"default");
      lua_pushliteral(L,"node_sound_wood_defaults");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,0,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc33),0);
      assert(lua_gettop(L) - lc_nextra == 1);
    }
    lua_settop(L,(lc18 + lc_nextra));
  }
  lua_settop(L,(lc1 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 1);
  return 0;
}


/* from lua.c */
static int traceback (lua_State *L) {
  if (!lua_isstring(L, 1))  /* 'message' not a string? */
    return 1;  /* keep it intact */
  lua_getfield(L, LUA_GLOBALSINDEX, "debug");
  if (!lua_istable(L, -1)) {
    lua_pop(L, 1);
    return 1;
  }
  lua_getfield(L, -1, "traceback");
  if (!lua_isfunction(L, -1)) {
    lua_pop(L, 2);
    return 1;
  }
  lua_pushvalue(L, 1);  /* pass error message */
  lua_pushinteger(L, 2);  /* skip this function and traceback */
  lua_call(L, 2, 1);  /* call debug.traceback */
  return 1;
}


static void lc_l_message (const char *pname, const char *msg) {
  if (pname) fprintf(stderr, "%s: ", pname);
  fprintf(stderr, "%s\n", msg);
  fflush(stderr);
}

static int lc_report (lua_State *L, int status) {
  if (status && !lua_isnil(L, -1)) {
    const char *msg = lua_tostring(L, -1);
    if (msg == NULL) msg = "(error object is not a string)";
    /*FIX-IMROVE:progname*/
    lc_l_message("lua", msg);
    lua_pop(L, 1);
  }
  return status;
}

static int lc_docall (lua_State *L, int narg, int clear) {
  int status;
  int base = lua_gettop(L) - narg;  /* function index */
  lua_pushcfunction(L, traceback);  /* push traceback function */
  lua_insert(L, base);  /* put it under chunk and args */
  /*FIX? signal(SIGINT, laction); */
  status = lua_pcall(L, narg, (clear ? 0 : LUA_MULTRET), base);
  /*FIX? signal(SIGINT, SIG_DFL); */
  lua_remove(L, base);  /* remove traceback function */
  /* force a complete garbage collection in case of errors */
  if (status != 0) lua_gc(L, LUA_GCCOLLECT, 0);
  return status;
}

static int lc_dofile (lua_State *L, const char *name) {
  int status = luaL_loadfile(L, name) || lc_docall(L, 0, 1);
  return lc_report(L, status);
}

static int lc_dostring (lua_State *L, const char *s, const char *name) {
  int status = luaL_loadbuffer(L, s, strlen(s), name) || lc_docall(L, 0, 1);
  return lc_report(L, status);
}

static int lc_handle_luainit (lua_State *L) {
  const char *init = getenv(LUA_INIT);
  if (init == NULL) return 0;  /* status OK */
  else if (init[0] == '@')
    return lc_dofile(L, init+1);
  else
    return lc_dostring(L, init, "=" LUA_INIT);
}


typedef struct {
  int c;
  const char ** v;
} lc_args_t;


/* create global arg table */
static void lc_createarg(lua_State * L, const lc_args_t * const args) {
  int i;
  lua_newtable(L);
  for (i=0; i < args->c; i++) {
    lua_pushstring(L, args->v[i]);
    lua_rawseti(L, -2, i);
  }
  lua_setglobal(L, "arg");
}


int lc_pmain_mod_ethereal_stairs(lua_State * L) {
  luaL_openlibs(L);

  lua_pushcfunction(L, traceback);

  const int status1 = lc_handle_luainit(L);
  if (status1 != 0) return 0;

  /* note: IMPROVE: closure not always needed here */
  lua_newtable(L); /* closure table */
  lua_pushcclosure(L, lcf_main, 1);

  int status2 = lua_pcall(L, 0, 0, -2);
  if (status2 != 0) {
    const char * msg = lua_tostring(L,-1);
    if (msg == NULL) msg = "(error object is not a string)";
    fputs(msg, stderr);
  }
  return 0;
}



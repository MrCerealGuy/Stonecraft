<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<ol style="list-style-type: decimal">
<li><a href="#setting-up-a-server">Setting up a server</a>
<ol style="list-style-type: decimal">
<li><a href="#running-a-dedicated-server">Running a dedicated server</a>
<ol style="list-style-type: decimal">
<li><a href="#linux">Linux</a></li>
<li><a href="#windows">Windows</a></li>
</ol></li>
</ol></li>
</ol>
<h1 id="setting-up-a-server">Setting up a server</h1>
<ol style="list-style-type: decimal">
<li>Start your server on your desired port
<ul>
<li><strong>Note</strong>: It is recommended to leave the port at the default (30000)</li>
</ul></li>
<li>Find out your internal IP of the computer you are running the server on
<ul>
<li><strong>Linux</strong>: open a terminal and type ifconfig and hit enter</li>
<li><strong>Windows</strong>: <em>Start -&gt; Run â€¦ -&gt; cmd.exe -&gt; ipconfig</em></li>
</ul></li>
<li>Check the port forwarding settings on your router
<ul>
<li>forward your chosen port for UDP (30000 if you left it default) to the internal IP</li>
<li>In addition, alter any firewalls you may have to pass the traffic at that port</li>
</ul></li>
<li>Let your friends know your external IP</li>
<li>Make your server listed in the server list by setting the following settings in stonecraft.conf
<ul>
<li>server_announce = true - makes Stonecraft tell the server list about the server.</li>
<li>server_name - set the value of this to your server's name.</li>
<li>server_description - set the value of this to a longer description describing your server.</li>
<li>server_address - if you have a domain name for your server, then set this to the domain name.</li>
<li>server_url - if you have a website for your server, then set this to the website URL.</li>
<li>motd - a message that is sent to the player when they join. Use this to welcome them.</li>
<li>You should restart the server to make sure any changed settings changed</li>
</ul></li>
</ol>
<h2 id="running-a-dedicated-server">Running a dedicated server</h2>
<h3 id="linux">Linux</h3>
<ol style="list-style-type: decimal">
<li>Open a terminal.</li>
<li>Type in <em>&lt;YOUR/STONECRAFT/DIRECTORY&gt;/bin/stonecraftserver</em> or just drop the stonecraftserver executable (located in <em>/Stonecraft/bin/</em>) into the terminal <strong>(PLEASE READ THE NOTES BELOW!)</strong>
<ul>
<li>If you want to specify a specific game ID, the game ID choices are located in <em>/Stonecraft/games/</em>. Add in <em>--gameid thegameid</em> to the end of the command.</li>
<li>If you get the error &quot;Multiple worlds are available.&quot;, the world choices are located in <em>/Stonecraft/worlds/</em>. Add in <em>--worldname theWorld</em> to the end of the command.</li>
</ul></li>
<li>If your server crashes, then look at the debug.txt in <em>/Stonecraft/bin/</em></li>
<li>Enjoy running a Stonecraft server!</li>
</ol>
<p>For easy use you can create a file named <em>start-stonecraft.sh</em>, add the lines below and put it in your <em>/Stonecraft/bin/</em> folder.</p>
<pre><code>#!/bin/bash -e

until ./stonecraftserver --worldname ../worlds/&lt;YOUR-WORLD&gt;; do
    echo &quot;Server &#39;stonecraftserver&#39; crashed with exit code $?. Respawning..&quot; &gt;&amp;2
    sleep 1
done</code></pre>
<p>You have to make the script executable with the command</p>
<pre><code>chmod +x start-stonecraft.sh</code></pre>
<p>To run the server, just execute the script in a terminal with</p>
<pre><code>./start-stonecraft.sh</code></pre>
<p>Tipp: Add the start script to your /etc/rc.local file to run Stonecraft automatically if your system is rebooting.</p>
<pre><code>#!/bin/sh -e
#
# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &quot;exit 0&quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

&lt;YOUR/STONECRAFT/DIRECTORY&gt;/bin/start-stonecraft.sh

exit 0</code></pre>
<h3 id="windows">Windows</h3>
<ol style="list-style-type: decimal">
<li>Open command prompt by going in the <em>/Stonecraft/bin/</em> folder, hold Shift, do a right click on <em>bin</em> and click &quot;Open command window here&quot;.</li>
<li>Type this: <em>stonecraft.exe --server</em>.
<ul>
<li>If you get the error &quot;Multiple worlds are available.&quot;, use <em>stonecraft.exe --server --worldname world_name</em> instead, where world_name is the name of the world.</li>
</ul></li>
<li>If your server crashes, then look at the debug.txt in <em>/Stonecraft/bin/</em></li>
<li>Enjoy running a Stonecraft server!</li>
</ol>
<p>If you don't like to start the crashed server, simply start the server out of a batch file which contains the following code:</p>
<pre><code>@echo off
:crash
stonecraft.exe --server --worldname world_name
goto crash</code></pre>
</body>
</html>
